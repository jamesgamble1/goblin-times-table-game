<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><title>Goblin Times Table Battle</title>
<style>
  /* (previous CSS unchanged) */
  #goblinImage { width:150px; height:auto; margin:10px; border-radius:12px; box-shadow:0 0 12px rgba(0,255,0,0.4); }
</style></head><body>
<h1>üßå Goblin Times Table Battle!</h1>
<div id="nameSection">
  <p>Enter your name, brave warrior:</p>
  <input id="playerNameInput" type="text" placeholder="Your name..." /><br>
  <button onclick="startGame()">Start Game</button>
</div>

<div id="gameArea" style="display:none;">
  <div id="score">Score: 0</div>
  <div id="playerHp">Your HP: ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
  <div class="goblin" id="goblinName"></div>
  <img id="goblinImage" src="" alt="Goblin" />
  <div id="goblinHp">Goblin HP: ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
  <div class="question" id="questionText"></div>
  <input type="number" id="answer" onkeydown="if(event.key==='Enter') submitAnswer()" />
  <br>
  <button onclick="submitAnswer()">Attack!</button>
  <div class="log" id="logText"></div>
</div>

<script>
const goblins = [
  { name: "Grubnose the Gross", image: "https://creazilla.com/media/clipart/19017/goblin.png" },
  { name: "Snaggletooth",        image: "https://creazilla.com/media/clipart/15813/chibi-goblin.png" },
  { name: "Mathcrusher",         image: "https://creazilla.com/media/clipart/15816/goblin-warrior.png" },
  { name: "Fungus Frank",        image: "https://creazilla.com/media/clipart/19017/goblin.png" },
  { name: "Wartface",            image: "https://creazilla.com/media/clipart/19017/goblin.png" },
  { name: "Boogerbeard",         image: "https://creazilla.com/media/clipart/19017/goblin.png" },
  { name: "Toadlicker Tim",      image: "https://creazilla.com/media/clipart/15813/chibi-goblin.png" },
  { name: "Lumpy Larry",         image: "https://creazilla.com/media/clipart/15818/ice-goblin.png" }
];
let goblinHP=5, playerHP=3, score=0, currentQuestion={}, startTime=0, playerName="";
function startGame(){
  playerName = document.getElementById("playerNameInput").value.trim()||"Hero";
  document.getElementById("nameSection").style.display="none";
  document.getElementById("gameArea").style.display="block";
  updateGoblin();
}
function randomQuestion(){
  const a=Math.floor(Math.random()*10)+1, b=Math.floor(Math.random()*10)+1;
  return {a,b,answer:a*b};
}
function updateQuestion(){
  currentQuestion=randomQuestion();
  document.getElementById("questionText").textContent=`What's ${currentQuestion.a} √ó ${currentQuestion.b}?`;
  document.getElementById("answer").value="";
  document.getElementById("answer").focus();
  startTime=Date.now();
}
function updateGoblin(){
  goblinHP=5;
  const g=goblins[Math.floor(Math.random()*goblins.length)];
  document.getElementById("goblinName").textContent=`${g.name} appears!`;
  document.getElementById("goblinImage").src=g.image;
  updateHPBar(); updateQuestion();
  document.getElementById("logText").textContent=`${playerName}, a wild goblin appears! Solve fast!`;
}
function updateHPBar(){
  document.getElementById("goblinHp").textContent="Goblin HP: "+"‚ù§Ô∏è".repeat(goblinHP);
  document.getElementById("playerHp").textContent="Your HP: "+"‚ù§Ô∏è".repeat(playerHP);
  document.getElementById("score").textContent=`Score: ${score}`;
}
function submitAnswer(){
  const goblinElem=document.getElementById("goblinName");
  const userAns=parseInt(document.getElementById("answer").value);
  const timeTaken=(Date.now()-startTime)/1000;
  if(userAns===currentQuestion.answer){
    const bonus=timeTaken<5?2:1;
    goblinHP-=bonus;
    goblinElem.classList.add("hit");
    setTimeout(()=>goblinElem.classList.remove("hit"),400);
    if(goblinHP<=0){
      score++;
      document.getElementById("logText").textContent=`Correct! You defeated the goblin in ${timeTaken.toFixed(2)}s! üéâ`;
      setTimeout(updateGoblin,2000);
      return;
    } else {
      document.getElementById("logText").textContent=`Correct! You hit the goblin for ${bonus} damage.`;
    }
  } else {
    playerHP--;
    document.getElementById("logText").textContent=`Wrong! The correct answer was ${currentQuestion.answer}. The goblin slaps you! üêü`;
    if(playerHP<=0){
      document.getElementById("logText").textContent=`Game Over, ${playerName}! Final Score: ${score}`;
      document.getElementById("gameArea").style.display="none";
      return;
    }
  }
  updateHPBar(); updateQuestion();
}
</script>
</body></html>
